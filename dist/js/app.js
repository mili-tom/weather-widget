"use strict";var APIkey="8f3863754990ba6491b24790400e0681",weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function displayCurrentWeather(t){document.querySelector(".current-conditions").insertAdjacentHTML("beforeend",'<img src="http://openweathermap.org/img/wn/'.concat(t.weather[0].icon,'@2x.png">\n    <div class="current">\n      <div class="temp">').concat(Math.round(t.main.temp),'&#8451;</div>\n      <div class="condition">').concat(t.weather[0].description,"</div>\n    </div>"))}function groupForecastData(t){for(var a=nameCurrentDay(),n={},e=0;e<t.length;e++){var o=nameForecastDays(t[e].dt_txt.slice(0,10));o!==a&&(void 0===n[o]?n[o]=[t[e]]:n[o].push(t[e]))}extractForecastData(n)}function extractForecastData(o){Object.keys(o).forEach(function(t){var a=[],n=[],e=[];o[t].forEach(function(t){t.dt_txt.includes("12:00:00")&&a.push(t),n.push(t.main.temp_min),e.push(t.main.temp_max)}),displayForecast(t,a,Math.round(Math.min.apply(Math,n)),Math.round(Math.max.apply(Math,e)))})}function displayForecast(t,a,n,e){document.querySelector(".forecast").insertAdjacentHTML("beforeend",'<div class="day">\n      <h3>'.concat(t,'</h3>\n      <img src="http://openweathermap.org/img/wn/').concat(a[0].weather[0].icon,'@2x.png" />\n      <div class="description">').concat(a[0].weather[0].description,'</div>\n      <div class="temp"> \n        <span class="high">').concat(e,'&#8451;</span>/<span class="low">').concat(n,"&#8451;</span>\n      </div>\n    </div>"))}function nameCurrentDay(){var t=(new Date).getDay();return weekDays[t-1]}function nameForecastDays(t){var a=new Date(t).getDay();return weekDays[a]}navigator.geolocation.getCurrentPosition(function(t){homeLat=t.coords.latitude,homeLon=t.coords.longitude,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(homeLat,"&lon=").concat(homeLon,"&units=metric&appid=").concat(APIkey)).then(function(t){return t.json()}).then(function(a){fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(homeLat,"&lon=").concat(homeLon,"&units=metric&appid=").concat(APIkey)).then(function(t){return t.json()}).then(function(t){displayCurrentWeather(a),groupForecastData(t.list)})})});